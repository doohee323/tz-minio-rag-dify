# CoinTutor 앱 / 커스텀 도구

## ID가 매번 달라지는 이유

- **노드·엣지 ID** (`1711528708197`, `1711528802931-1711528833796` 등): Dify가 내보낼 때마다 새로 부여합니다.
- **provider_id** (`a1744db9-36ab-44a2-abe2-20bcef718142`): 커스텀 도구를 **UI에서 만들 때마다** Dify가 새 UUID를 부여합니다. 스크립트/API로 도구를 자동 생성하지 않으면 환경마다 값이 다릅니다.

이 리포지터리의 `CoinTutor.yml`은 **한 번 내보낸 스냅샷**이므로, 다른 Dify나 재설치 환경에서는 위 ID들이 맞지 않을 수 있습니다.

## 새 환경에서 쓰는 방법 (권장)

1. **커스텀 도구 먼저 만들기**  
   - Dify **도구 → 커스텀 → 커스텀 도구 만들기**  
   - 이름: `CoinTutor RAG`  
   - 스키마: `cointutor-rag-openapi.yaml` 내용 전체 붙여넣기 → 저장  

2. **앱 임포트**  
   - **앱** → **앱 만들기** → **고급 채팅** 등으로 새 앱 생성 후, **설정** 등에서 **임포트**로 `CoinTutor.yml` 업로드  
   - 또는 기존 앱에서 워크플로를 이 구조로 수동 구성  

3. **도구만 다시 연결**  
   - 임포트 후 **Tool** 노드가 “도구를 찾을 수 없음”이면, 해당 노드를 열어 **도구 선택**에서 방금 만든 **CoinTutor RAG**를 다시 선택하고 저장  
   - 그러면 현재 환경의 `provider_id`로 자동 연결됩니다. **YAML의 ID를 수동으로 바꿀 필요 없음.**

정리하면, **CoinTutor.yml은 그대로 두고**, 새 환경에서는 **커스텀 도구 생성 → 앱 임포트 → Tool 노드에서 CoinTutor RAG만 다시 선택**하면 됩니다.

## 파일

| 파일 | 용도 |
|------|------|
| `cointutor-rag-openapi.yaml` | 커스텀 도구 등록 시 스키마로 붙여넣기 |
| `CoinTutor.yml` | 앱 내보내기 파일. 참조/임포트용(위 절차 후 Tool 노드에서 도구만 재선택) |
