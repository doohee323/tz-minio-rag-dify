# Dify shared (used when per-system value is empty)
DIFY_BASE_URL=https://dify.drillquiz.com
DIFY_API_KEY=app-xxxxxxxxxxxx

# Per-system Dify (when DrillQuiz / CoinTutor use different apps/instances)
# Empty = use shared values above
# DIFY_DRILLQUIZ_BASE_URL=https://dify.drillquiz.com
# DIFY_DRILLQUIZ_API_KEY=app-drillquiz-xxxx
# DIFY_COINTUTOR_BASE_URL=https://dify.cointutor.com
# DIFY_COINTUTOR_API_KEY=app-cointutor-xxxx

# Auth
# JWT signing. Any random string (generate: openssl rand -hex 32)
CHAT_GATEWAY_JWT_SECRET=your-jwt-signing-secret-change-in-production
# API keys for gateway calls. Comma-separated (e.g. openssl rand -hex 16)
CHAT_GATEWAY_API_KEY=key_drillquiz_xxx,key_cointutor_yyy

# Optional: allow only these system_id values (comma-separated). Empty = allow all.
ALLOWED_SYSTEM_IDS=drillquiz,cointutor

# Optional: CORS allowed origins (comma-separated). Empty = default list (us-dev/us/us-qa.drillquiz.com + localhost etc.)
# ALLOWED_CHAT_TOKEN_ORIGINS=https://us-dev.drillquiz.com,https://us.drillquiz.com,https://us-qa.drillquiz.com

# Optional: Origins allowed for POST /v1/chat-token-guest (no API key). Empty = localhost:8080, localhost:8000
# ALLOW_GUEST_TOKEN_ORIGINS=https://chat.drillquiz.com

# MinIO: for RAG file upload/list (rag-docs/raw/{system_id}/). Required for systems files UI.
# Local: use port-forward if MinIO is in K8s: kubectl port-forward svc/minio 9000:9000 -n devops
# MINIO_ENDPOINT=localhost
# MINIO_PORT=9000
# MINIO_BUCKET=rag-docs
# MINIO_ACCESS_KEY=...
# MINIO_SECRET_KEY=...

# Database: local = SQLite, K8s = PostgreSQL
# Local (default): no DATABASE_URL, no POSTGRES_HOST â†’ sqlite+aiosqlite:///./chat_gateway.db
# K8s: set POSTGRES_* (or DATABASE_URL) in ConfigMap/Secret
# DATABASE_URL=sqlite+aiosqlite:///./chat_gateway.db
# POSTGRES_HOST=devops-postgres-postgresql.devops.svc.cluster.local
# POSTGRES_PORT=5432
# POSTGRES_DB=chat_gateway
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=...